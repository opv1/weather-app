(function(e){function t(t){for(var a,c,i=t[0],o=t[1],u=t[2],l=0,m=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);p&&p(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var o=n[i];0!==r[o]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},s=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/weather-app/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var p=o;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3f55":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("1da1"),s=n("5530"),c=(n("99af"),n("159b"),n("96cf"),n("2f62")),i=(n("d3b7"),function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,"&units=metric&appid=").concat("2be2eece04ed94b43465e56573ba1218"));case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,n.ok){e.next=9;break}throw new Error(a.message||"Oops!");case 9:return e.abrupt("return",a);case 12:return e.prev=12,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()),o=(n("b0c0"),n("a4d3"),n("e01a"),function(e,t){var n=null;switch(!0){case t>=200&&t<232:n=e.Thunderstorm;break;case t>=300&&t<=321:n=e.Drizzle;break;case t>=500&&t<=521:n=e.Rain;break;case t>=600&&t<=622:n=e.Snow;break;case t>=701&&t<=781:n=e.Atmosphere;break;case 800===t:n=e.Clear;break;case t>=801&&t<=804:n=e.Clouds;break;default:n=e.Clouds}return n}),u=function(e){var t={Thunderstorm:"wi-thunderstorm",Drizzle:"wi-sleet",Rain:"wi-storm-showers",Snow:"wi-snow",Atmosphere:"wi-fog",Clear:"wi-day-sunny",Clouds:"wi-day-fog"},n={city:e.name,country:e.sys.country,description:e.weather[0].description.toUpperCase(),icon:o(t,e.weather[0].id),main:e.weather[0].main,temp:{immutableTemp:e.main.temp,immutableTempMin:e.main.temp_min,immutableTempMax:e.main.temp_max,temp:e.main.temp,tempMin:e.main.temp_min,tempMax:e.main.temp_max}};return n},p=(n("b680"),function(e){return(e+273.15).toFixed(1)}),l=function(e){return(1.8*e+32).toFixed(1)};a["a"].use(c["a"]);var m=new c["a"].Store({state:{loading:!0,message:{display:!1,text:null},weather:{},units:{current:"C",array:["C","K","F"]}},mutations:{setLoading:function(e,t){e.loading=t},setMessage:function(e,t){e.message=Object(s["a"])({},t)},setWeather:function(e,t){e.weather=t},setUnits:function(e,t){e.units=t}},getters:{loading:function(e){return e.loading},message:function(e){return e.message},weather:function(e){return e.weather},units:function(e){return e.units}},actions:{fetchData:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,r,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=e.dispatch,n.prev=1,n.next=4,i(t);case 4:s=n.sent,c=u(s),a("setWeather",c),a("setLoading",!1),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),r("showMessage","Oops! Nothing found or server problems!");case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},preloadWeather:function(e){var t=e.commit,n=e.dispatch;t("setLoading",!0),navigator.geolocation.getCurrentPosition((function(e){setTimeout((function(){n("fetchData","https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.coords.latitude,"&lon=").concat(e.coords.longitude))}),1e3)}),(function(e){n("showMessage","Please turn on geolocation or use the search!")}))},searchWeather:function(e,t){var n=e.commit,a=e.dispatch;if(!t)return a("showMessage","Please enter city!");a("resetMessage"),n("setLoading",!0),setTimeout((function(){a("fetchData","https://api.openweathermap.org/data/2.5/weather?q=".concat(t))}),1e3)},showMessage:function(e,t){var n=e.commit;n("setMessage",{display:!0,text:t})},resetMessage:function(e){var t=e.commit;t("setMessage",{display:!1,text:null})},changeUnits:function(e){var t=e.commit,n=e.state,a=JSON.parse(JSON.stringify(n.weather)),r=JSON.parse(JSON.stringify(n.units)),s=null;r.array.forEach((function(e,t){e===r.current&&(s=r.array[t+1],"K"===s&&(a.temp.temp=p(a.temp.immutableTemp),a.temp.tempMin=p(a.temp.immutableTempMin),a.temp.tempMax=p(a.temp.immutableTempMax)),"F"===s&&(a.temp.temp=l(a.temp.immutableTemp),a.temp.tempMin=l(a.temp.immutableTempMin),a.temp.tempMax=l(a.temp.immutableTempMax))),r.current===r.array[r.array.length-1]&&(s=r.array[0],a.temp.temp=a.temp.immutableTemp,a.temp.tempMin=a.temp.immutableTempMin,a.temp.tempMax=a.temp.immutableTempMax)})),r.current=s,t("setWeather",a),t("setUnits",r)}},modules:{}}),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",attrs:{id:"app"}},[n("Message"),n("Search"),n("div",{staticClass:"app__container"},[e.loading?n("Loader"):n("Weather")],1)],1)},f=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:["message",{message__hide:!e.message.display}]},[e._v(e._s(e.message.text))])},b=[],v={name:"Message",computed:Object(s["a"])({},Object(c["c"])(["message"]))},g=v,_=(n("7453"),n("2877")),w=Object(_["a"])(g,h,b,!1,null,"7b4e88be",null),y=w.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"search__input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),n("button",{staticClass:"search__button",on:{click:function(t){return t.preventDefault(),e.searchWeather(e.value)}}},[e._v(" Search ")])])},x=[],j={name:"Search",data:function(){return{value:"",placeholder:"Enter city"}},methods:Object(s["a"])({},Object(c["b"])(["searchWeather"]))},M=j,C=(n("61d1"),Object(_["a"])(M,O,x,!1,null,"27303a5e",null)),T=C.exports,k=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},S=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader"},[n("div",{staticClass:"loader__roller"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])])}],W={},E=W,P=(n("b97b"),Object(_["a"])(E,k,S,!1,null,"06cd94a8",null)),L=P.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"weather"},[n("Location"),n("Temperature")],1)},D=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"location"},[n("h1",{staticClass:"location__timezone"},[e._v(" "+e._s(e.weather.city)+", "+e._s(e.weather.country)+" ")]),n("i",{class:["location__icon","wi "+e.weather.icon]})])},N=[],R={name:"Location",computed:Object(s["a"])({},Object(c["c"])(["weather"]))},U=R,z=(n("8e30"),Object(_["a"])(U,J,N,!1,null,"772f40e0",null)),F=z.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"temperature"},[n("h2",{staticClass:"temperature__degree",on:{click:e.changeUnits}},[e._v(" "+e._s(e.weather.temp.temp)+" °"+e._s(e.units.current)+" ")]),n("div",{staticClass:"temperature__block"},[n("span",[e._v(e._s(e.weather.temp.tempMin)+" °"+e._s(e.units.current))]),n("span",[e._v(e._s(e.weather.temp.tempMax)+" °"+e._s(e.units.current))])]),n("p",{staticClass:"temperature__description"},[e._v(" "+e._s(e.weather.description)+" ")])])},K=[],q={name:"Temperature",computed:Object(s["a"])({},Object(c["c"])(["weather","units"])),methods:Object(s["a"])({},Object(c["b"])(["changeUnits"]))},B=q,G=(n("73ac"),Object(_["a"])(B,A,K,!1,null,"1d956aa4",null)),H=G.exports,I={name:"Weather",components:{Location:F,Temperature:H}},Q=I,V=(n("6f39"),Object(_["a"])(Q,$,D,!1,null,"5e3a569a",null)),X=V.exports,Y={name:"App",components:{Message:y,Search:T,Loader:L,Weather:X},computed:Object(s["a"])({},Object(c["c"])(["loading"])),methods:Object(s["a"])({},Object(c["b"])(["preloadWeather"])),mounted:function(){this.preloadWeather()}},Z=Y,ee=(n("5c0b"),Object(_["a"])(Z,d,f,!1,null,null,null)),te=ee.exports;a["a"].config.productionTip=!1,new a["a"]({store:m,render:function(e){return e(te)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"5edd":function(e,t,n){},"61d1":function(e,t,n){"use strict";n("9328")},"62dc":function(e,t,n){},"6f39":function(e,t,n){"use strict";n("3f55")},"73ac":function(e,t,n){"use strict";n("dccf")},7453:function(e,t,n){"use strict";n("62dc")},"8e30":function(e,t,n){"use strict";n("5edd")},9328:function(e,t,n){},"9c0c":function(e,t,n){},b76a:function(e,t,n){},b97b:function(e,t,n){"use strict";n("b76a")},dccf:function(e,t,n){}});
//# sourceMappingURL=app.9ff51453.js.map